<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <title>C4A</title>
    <link rel="stylesheet" href="style.css">
    <!-- reCAPTCHA v3 --> 
    <script src="https://www.google.com/recaptcha/api.js?render=6LdirpYqAAAAAOSFX6F50RMFkSEhctWQi7fC1lL91"></script>
</head>
<body>
    <header class="header">
        <div class="menu container">
            <img src="images/logo.svg" class="logoo" alt="">
            <input type="checkbox" id="menu">
            <label for="menu">
                <img src="images/menu.png" class="menu-icono" alt="">
            </label>
            <nav class="navbar">
                <ul>
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="Sobre Nosotros.html">Sobre Nosotros</a></li>
                    <li><a href="Servicios.html">Servicios</a></li>
                    <li><a href="Contacto.html">Contacto</a></li>
                </ul>
            </nav>
        </div>
        <div class="header-content container">
            <div class="header-txt">
                <h1>C4A</h1>
                <span>Chile</span>
                <p>
                    Nos especializamos en ciberseguridad ofensiva, utilizando hacking ético 
                    para proteger sistemas y datos. 
                    Evaluamos y aseguramos la seguridad de APIs, sitios web, aplicaciones móviles y redes, 
                    además de ofrecer capacitaciones para mejorar la defensa ante ciberataques.
                 </p>
                <a href="Sobre Nosotros.html" class="btn-1">Informacion</a>
            </div>
            <div class="header-dir">
                <div class="dir">
                    <h3>Direccion</h3>
                    <p>Chillan</p>
                </div>
                <div class="dir">
                    <h3>Telefono</h3>
                    <p>+5964781523</p>
                </div>
                <div class="dir">
                    <h3>Horario</h3>
                    <p>9am a 9pm</p>                  
                </div>
            </div>
        </div>
    </header>
    <div class="contact">
        <div class="contact-1">
            <h2>Contáctenos</h2>
            <p>En C4A Ciberseguridad For All, estamos para ayudarle a fortalecer la seguridad de sus sistemas. Si tiene alguna pregunta o necesita saber más información sobre nuestros servicios o desea solicitar una consulta no dude en ponerse en contacto con nosotros.</p>
            <p><span class="b2">Contratación Directa.</span></p>
            <ul>
                <li>TELEFONO: +56981794512</li>
                <li>CORREO ELECTRONICO: C4A@GMAIL.COM</li>
                <li>DIRECCION: C4A, CHILLAN, CHILE</li>
                <li>HORARIO DE ATENCION: LUNES A VIERNES DESDE LAS 9:00AM A 6:00PM</li>
            </ul>
        </div>
        <div class="contact-2">       
        </div>
    </div>
    <div class="FormaContact">
        <h2>Reservar un Servicio</h2>
        <form id="contactForm">
            <div class="campo-1">
                <input class="campo" type="text" name="nombre" placeholder="Nombre" required>
                <input class="campo" type="tel" name="telefono" placeholder="Teléfono" required>
            </div>
            <div class="campo-1">
                <input class="campo" type="email" name="correo" placeholder="Correo" required>
                <input class="campo" type="email" name="confirmarCorreo" placeholder="Confirmar Correo" required>
            </div>
            <textarea class="campo" name="mensaje" cols="30" rows="10" placeholder="Ingrese el servicio que desea tener..." required></textarea>
            <!-- Token de captcha -->
            <input class="campo" type="hidden" name="recaptchaToken" id="recaptchaToken">
            <button type="submit" class="btn-2">Enviar</button>
        </form>
        <script>
            document.getElementById('contactForm').addEventListener('submit', function(event) {
                event.preventDefault();
                // Ejecutar reCAPTCHA y obtener el token
                grecaptcha.ready(function() {
                    grecaptcha.execute('6LdirpYqAAAAAOSFX6F50RMFkSEhctWQi7fC1lL9', { action: 'submit' }).then(function(token) {
                        // Agregar el token al campo oculto
                        document.getElementById('recaptchaToken').value = token;
                        const formData = new FormData(event.target);
                        const data = {
                            nombre: formData.get('nombre'),
                            correo: formData.get('correo'),
                            confirmarCorreo: formData.get('confirmarCorreo'),
                            telefono: formData.get('telefono'),
                            mensaje: formData.get('mensaje'),
                            recaptchaToken: formData.get('recaptchaToken')
                        };
                        if (data.correo !== data.confirmarCorreo) {
                            alert('Los correos electrónicos no coinciden.');
                            return;
                        }
                        fetch('http://localhost:3000/contacto', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify(data)
                        })
                        .then(response => response.json())
                        .then(data => {
                            console.log('Success:', data);
                            alert('Mensaje enviado correctamente.');
                        })
                        .catch((error) => {
                            console.error('Error:', error);
                            alert('Error al enviar el mensaje.');
                        });
                    });
                });
            });
        </script>
    </div>
    <footer class="footer-bg">
        <div class="footer-container">
            <div class="footer-section">
                <img src="images/logo.svg" alt="C4A Logo" class="footer-logo">
            </div>
            <div class="footer-section">
                <h3>Links Rápidos</h3>
                <ul>
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="Sobre Nosotros.html">Sobre Nosotros</a></li>
                    <li><a href="Servicios.html">Servicios</a></li>
                    <li><a href="Contacto.html">Contáctenos</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Servicios</h3>
                <ul>
                    <li>Ciberseguridad Ofensiva</li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Contacto</h3>
                <ul>
                    <li>Dirección: Chillán, Chile</li>
                    <li>Teléfono: +569 81794512</li>
                    <li>Correo: C4A@gmail.com</li>
                    <li>Horario: Lunes a Viernes, 9:00 AM - 6:00 PM</li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 C4A. Todos los derechos reservados.</p>
        </div>
    </footer>
</body>
</html>